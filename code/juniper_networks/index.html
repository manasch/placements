<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Placements</title><meta name=keywords content><meta name=description content="Juniper Networks Details Job Status Internship + PPO
Criteria Study Cutoff X % XII % UG 7.5 GPA Compensation FTE Internship Base 14.5L 40000 Stocks &ndash; &ndash; Bonus 2L &ndash; CTC 16.5L &ndash; Round 1 26/10/23
There were 14 questions in total to be solved in 110 min.
MCQ (11) - Comprehension, Aptitude, Technical Coding (3) Coding Questions Decorate Function: Write a single decorator for 3 functions, which have variable arguements and one key value arguement delay."><meta name=author content><link rel=canonical href=https://manasch.github.io/placements/code/juniper_networks/><link crossorigin=anonymous href=/placements/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/placements/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://manasch.github.io/placements/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://manasch.github.io/placements/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://manasch.github.io/placements/favicon-32x32.png><link rel=apple-touch-icon href=https://manasch.github.io/placements/apple-touch-icon.png><link rel=mask-icon href=https://manasch.github.io/placements/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content><meta property="og:description" content="Juniper Networks Details Job Status Internship + PPO
Criteria Study Cutoff X % XII % UG 7.5 GPA Compensation FTE Internship Base 14.5L 40000 Stocks &ndash; &ndash; Bonus 2L &ndash; CTC 16.5L &ndash; Round 1 26/10/23
There were 14 questions in total to be solved in 110 min.
MCQ (11) - Comprehension, Aptitude, Technical Coding (3) Coding Questions Decorate Function: Write a single decorator for 3 functions, which have variable arguements and one key value arguement delay."><meta property="og:type" content="article"><meta property="og:url" content="https://manasch.github.io/placements/code/juniper_networks/"><meta property="article:section" content="code"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Juniper Networks Details Job Status Internship + PPO
Criteria Study Cutoff X % XII % UG 7.5 GPA Compensation FTE Internship Base 14.5L 40000 Stocks &ndash; &ndash; Bonus 2L &ndash; CTC 16.5L &ndash; Round 1 26/10/23
There were 14 questions in total to be solved in 110 min.
MCQ (11) - Comprehension, Aptitude, Technical Coding (3) Coding Questions Decorate Function: Write a single decorator for 3 functions, which have variable arguements and one key value arguement delay."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Code","item":"https://manasch.github.io/placements/code/"},{"@type":"ListItem","position":3,"name":"","item":"https://manasch.github.io/placements/code/juniper_networks/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"","name":"","description":"Juniper Networks Details Job Status Internship + PPO\nCriteria Study Cutoff X % XII % UG 7.5 GPA Compensation FTE Internship Base 14.5L 40000 Stocks \u0026ndash; \u0026ndash; Bonus 2L \u0026ndash; CTC 16.5L \u0026ndash; Round 1 26/10/23\nThere were 14 questions in total to be solved in 110 min.\nMCQ (11) - Comprehension, Aptitude, Technical Coding (3) Coding Questions Decorate Function: Write a single decorator for 3 functions, which have variable arguements and one key value arguement delay.","keywords":[],"articleBody":"Juniper Networks Details Job Status Internship + PPO\nCriteria Study Cutoff X % XII % UG 7.5 GPA Compensation FTE Internship Base 14.5L 40000 Stocks – – Bonus 2L – CTC 16.5L – Round 1 26/10/23\nThere were 14 questions in total to be solved in 110 min.\nMCQ (11) - Comprehension, Aptitude, Technical Coding (3) Coding Questions Decorate Function: Write a single decorator for 3 functions, which have variable arguements and one key value arguement delay.\nThere exists a global list execution_time which should include a number close to the delay_time for each query.\nThe function being decorated should return its respective value.\nExample:\n3 --\u003e Number of queries delay_max 1 2 3 100 delay_min 3 4 1 7 200 delay_sum 2 2 300 Output 3 1 4 [100,200,300] # Pre-defined functions def delay_max(*args, **kwargs): time.sleep(kwargs[\"delay\"] / 1000) return max(args) def delay_min(*args, **kwargs): time.sleep(kwargs[\"delay\"] / 1000) return min(args) def delay_sum(*args, **kwargs): time.sleep(kwargs[\"delay\"] / 1000) return sum(args) execution_time = [] # # Complete the 'timeit' function below. # # The function is expected to return a function. # The function accepts following parameter: # 1. FUNCTION func # def timeit(func: Callable) -\u003e Callable: # Write your code here def wrapper(*args, **kwargs): execution_time.append(kwargs[\"delay\"]) return func(*args, **kwargs) return wrapper CPP Constructor: Given an empty class, this class will be called with the () operator, limit the number of times this operator is called.\nIf the number of calls exceeds this limit, throw -1 as the error.\nThe class also has a public method get_sum() which should return the total sum of all the arguements passed during the multiple () operator call.\nExample:\nxcallable obj_1(3); obj_1(3)(4)(5); // Output 12 xcallable obj_2(3); try { obj_2(3)(4)(5)(6); } catch (int x) { std::cout \u003c\u003c \"Exception called\" \u003c\u003c std::endl; } class xcallable{ private: int called = 0; int limit; int argsum = 0; public: xcallable(int limit) { this-\u003elimit = limit; } xcallable\u0026 operator ()(int arg) { ++called; if (called \u003e limit) { throw -1; } argsum += arg; return *this; } int get_sum() { return argsum; } }; Recover Dead Pods: There are n nodes from 1-n. Some of these nodes are connected to each other. This is represented with a list of undirected edges between two nodes. Nodes that are directly or indirectly connected to each other are part of the same region.\nEach node has their respective database connection, such that whenever a query is called, it will record it in their respective database.\nThere are q queries, each query of the following type:\n“1 pod_id”: Represents a normal query to the node pod_id. “2 pod_id”: Represents a disconnect to the database for the mentioned pod_id. (This disconnect is irreversible, once disconnected, cannot be reconnected) If a query is for a node whose database connection is down (due to a prior database disconnect query), this query is forwarded to the smallest valued node in the region the initial requested node belongs to and is written to that node’s database. Return the node which makes the database call. (Smallest if requested is down, else the requested node).\nIf the query is for a node whose database connection is down, and every other node in its region is also down, then the query is not written and is lost. In this case, return -1.\nExample:\n5 --\u003e Nodes 3 --\u003e Connections 1 2 2 3 4 5 6 --\u003e Queries 1 4 2 2 1 2 2 3 2 1 1 1 Output: [4,1,-1] Explanation: 1 4 --\u003e The requested node is alive, hence written to that database. 2 2 --\u003e Node 2 lost its database connection. 1 2 --\u003e Node 2 doesn't have an active database connection, it belongs to the region whose smallest valued node is 1, hence written to 1. 2 3 --\u003e Node 3 lost its database connection. 2 1 --\u003e Node 1 lost its database connection. 1 1 --\u003e Node 1 doesn't have an active database connection and other nodes in its region are down, hence -1. class DSU { private: vector\u003cint\u003e parents, rank; int n; public: DSU(int n) { this-\u003en = n; parents = vector\u003cint\u003e(n + 1); rank = vector\u003cint\u003e(n + 1, 1); iota(parents.begin(), parents.end(), 0); } int find(int u) { if (parents[u] == u) { return u; } return parents[u] = find(parents[u]); } void join(int u, int v) { int up = find(u); int vp = find(v); if (up == vp) { return; } if (rank[up] \u003e rank[vp]) { parents[vp] = up; } else { parents[up] = vp; ++rank[vp]; } } }; vector\u003cint\u003e recoverDeadPods(int n, vector\u003cvector\u003cint\u003e\u003e connections, vector\u003cvector\u003cint\u003e\u003e queries) { vector\u003cint\u003e res; DSU uf(n); for (auto\u0026 conn: connections) { uf.join(conn[0], conn[1]); } unordered_map\u003cint, set\u003cint\u003e\u003e regions; for (int i = 1; i \u003c= n; ++i) { regions[uf.find(i)].insert(i); } vector\u003cbool\u003e alive(n + 1, true); // ---- for (auto\u0026 q: queries) { int qid = q[0]; int podId = q[1]; int parent = uf.find(podId); if (qid == 2) { alive[podId] = false; if (regions[parent].find(podId) != regions[parent].end()) { regions[parent].erase(podId); } } else { if (alive[podId]) { res.push_back(podId); } else { int smallestAlive = -1; if (!regions[parent].empty()) { smallestAlive = *regions[parent].begin(); } res.push_back(smallestAlive); } } } return res; } ","wordCount":"854","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://manasch.github.io/placements/code/juniper_networks/"},"publisher":{"@type":"Organization","name":"Placements","logo":{"@type":"ImageObject","url":"https://manasch.github.io/placements/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://manasch.github.io/placements accesskey=h title="Placements (Alt + H)">Placements</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://manasch.github.io/placements/schedule title=schedule><span>schedule</span></a></li><li><a href=https://manasch.github.io/placements/calendar title=calendar><span>calendar</span></a></li><li><a href=https://manasch.github.io/placements/code title=code><span>code</span></a></li><li><a href=https://github.com/manasch/placements title=github><span>github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title></h1><div class=post-meta></div></header><div class=post-content><h1 id=juniper-networkshttpswwwjunipernet><a href=https://www.juniper.net>Juniper Networks</a><a hidden class=anchor aria-hidden=true href=#juniper-networkshttpswwwjunipernet>#</a></h1><h2 id=details>Details<a hidden class=anchor aria-hidden=true href=#details>#</a></h2><h3 id=job-status>Job Status<a hidden class=anchor aria-hidden=true href=#job-status>#</a></h3><p>Internship + PPO</p><h3 id=criteria>Criteria<a hidden class=anchor aria-hidden=true href=#criteria>#</a></h3><table><thead><tr><th>Study</th><th>Cutoff</th></tr></thead><tbody><tr><td>X</td><td>%</td></tr><tr><td>XII</td><td>%</td></tr><tr><td>UG</td><td>7.5 GPA</td></tr></tbody></table><h3 id=compensation>Compensation<a hidden class=anchor aria-hidden=true href=#compensation>#</a></h3><table><thead><tr><th></th><th>FTE</th><th>Internship</th></tr></thead><tbody><tr><td>Base</td><td>14.5L</td><td>40000</td></tr><tr><td>Stocks</td><td>&ndash;</td><td>&ndash;</td></tr><tr><td>Bonus</td><td>2L</td><td>&ndash;</td></tr><tr><td>CTC</td><td>16.5L</td><td>&ndash;</td></tr></tbody></table><h2 id=round-1>Round 1<a hidden class=anchor aria-hidden=true href=#round-1>#</a></h2><blockquote><p>26/10/23</p></blockquote><p>There were 14 questions in total to be solved in 110 min.</p><ol><li>MCQ (11) - Comprehension, Aptitude, Technical</li><li>Coding (3)</li></ol><h3 id=coding-questions>Coding Questions<a hidden class=anchor aria-hidden=true href=#coding-questions>#</a></h3><ol><li><p><strong>Decorate Function</strong>: Write a single decorator for 3 functions, which have variable arguements and one key value arguement <code>delay</code>.</p><p>There exists a global list <code>execution_time</code> which should include a number close to the delay_time for each query.</p><p>The function being decorated should return its respective value.</p><p>Example:</p><pre tabindex=0><code>3 --&gt; Number of queries
delay_max 1 2 3 100
delay_min 3 4 1 7 200
delay_sum 2 2 300

Output
3
1
4
[100,200,300]
</code></pre></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#75715e># Pre-defined functions</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>delay_max</span>(<span style=color:#f92672>*</span>args, <span style=color:#f92672>**</span>kwargs):
</span></span><span style=display:flex><span>    time<span style=color:#f92672>.</span>sleep(kwargs[<span style=color:#e6db74>&#34;delay&#34;</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> max(args)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>delay_min</span>(<span style=color:#f92672>*</span>args, <span style=color:#f92672>**</span>kwargs):
</span></span><span style=display:flex><span>    time<span style=color:#f92672>.</span>sleep(kwargs[<span style=color:#e6db74>&#34;delay&#34;</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> min(args)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>delay_sum</span>(<span style=color:#f92672>*</span>args, <span style=color:#f92672>**</span>kwargs):
</span></span><span style=display:flex><span>    time<span style=color:#f92672>.</span>sleep(kwargs[<span style=color:#e6db74>&#34;delay&#34;</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> sum(args)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>execution_time <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Complete the &#39;timeit&#39; function below.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># The function is expected to return a function.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># The function accepts following parameter:</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  1. FUNCTION func</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>timeit</span>(func: Callable) <span style=color:#f92672>-&gt;</span> Callable:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Write your code here</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>wrapper</span>(<span style=color:#f92672>*</span>args, <span style=color:#f92672>**</span>kwargs):
</span></span><span style=display:flex><span>        execution_time<span style=color:#f92672>.</span>append(kwargs[<span style=color:#e6db74>&#34;delay&#34;</span>])
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> func(<span style=color:#f92672>*</span>args, <span style=color:#f92672>**</span>kwargs)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> wrapper
</span></span></code></pre></div><hr><ol start=2><li><p><strong>CPP Constructor</strong>: Given an empty class, this class will be called with the <code>()</code> operator, limit the number of times this operator is called.</p><p>If the number of calls exceeds this limit, throw -1 as the error.</p><p>The class also has a public method <code>get_sum()</code> which should return the total sum of all the arguements passed during the multiple <code>()</code> operator call.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>xcallable <span style=color:#a6e22e>obj_1</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>obj_1(<span style=color:#ae81ff>3</span>)(<span style=color:#ae81ff>4</span>)(<span style=color:#ae81ff>5</span>); <span style=color:#75715e>// Output 12
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>xcallable <span style=color:#a6e22e>obj_2</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>    obj_2(<span style=color:#ae81ff>3</span>)(<span style=color:#ae81ff>4</span>)(<span style=color:#ae81ff>5</span>)(<span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>catch</span> (<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;Exception called&#34;</span> <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>xcallable</span>{
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> called <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> limit;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> argsum <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    xcallable(<span style=color:#66d9ef>int</span> limit) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>-&gt;</span>limit <span style=color:#f92672>=</span> limit;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    xcallable<span style=color:#f92672>&amp;</span> <span style=color:#66d9ef>operator</span> ()(<span style=color:#66d9ef>int</span> arg) {
</span></span><span style=display:flex><span>        <span style=color:#f92672>++</span>called;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (called <span style=color:#f92672>&gt;</span> limit) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        argsum <span style=color:#f92672>+=</span> arg;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>this</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_sum</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> argsum;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><hr><ol start=3><li><p><strong>Recover Dead Pods</strong>: There are n nodes from 1-n. Some of these nodes are connected to each other. This is represented with a list of undirected edges between two nodes. Nodes that are directly or indirectly connected to each other are part of the same region.</p><p>Each node has their respective database connection, such that whenever a query is called, it will record it in their respective database.</p><p>There are q queries, each query of the following type:</p><ol><li>&ldquo;1 pod_id&rdquo;: Represents a normal query to the node pod_id.</li><li>&ldquo;2 pod_id&rdquo;: Represents a disconnect to the database for the mentioned pod_id. (This disconnect is irreversible, once disconnected, cannot be reconnected)</li></ol><p>If a query is for a node whose database connection is down (due to a prior database disconnect query), this query is forwarded to the smallest valued node in the region the initial requested node belongs to and is written to that node&rsquo;s database. Return the node which makes the database call. (Smallest if requested is down, else the requested node).</p><p>If the query is for a node whose database connection is down, and every other node in its region is also down, then the query is not written and is lost. In this case, return -1.</p><p>Example:</p><pre tabindex=0><code>5 --&gt; Nodes
3 --&gt; Connections
1 2
2 3
4 5

6 --&gt; Queries
1 4
2 2
1 2
2 3
2 1
1 1

Output:
[4,1,-1]

Explanation:
1 4 --&gt; The requested node is alive, hence written to that database.
2 2 --&gt; Node 2 lost its database connection.
1 2 --&gt; Node 2 doesn&#39;t have an active database connection, it belongs to the region whose smallest valued node is 1, hence written to 1.
2 3 --&gt; Node 3 lost its database connection.
2 1 --&gt; Node 1 lost its database connection.
1 1 --&gt; Node 1 doesn&#39;t have an active database connection and other nodes in its region are down, hence -1.
</code></pre></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DSU</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> parents, rank;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    DSU(<span style=color:#66d9ef>int</span> n) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>-&gt;</span>n <span style=color:#f92672>=</span> n;
</span></span><span style=display:flex><span>        parents <span style=color:#f92672>=</span> vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        rank <span style=color:#f92672>=</span> vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        iota(parents.begin(), parents.end(), <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>find</span>(<span style=color:#66d9ef>int</span> u) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (parents[u] <span style=color:#f92672>==</span> u) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> u;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> parents[u] <span style=color:#f92672>=</span> find(parents[u]);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>join</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> v) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> up <span style=color:#f92672>=</span> find(u);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> vp <span style=color:#f92672>=</span> find(v);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (up <span style=color:#f92672>==</span> vp) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (rank[up] <span style=color:#f92672>&gt;</span> rank[vp]) {
</span></span><span style=display:flex><span>            parents[vp] <span style=color:#f92672>=</span> up;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            parents[up] <span style=color:#f92672>=</span> vp;
</span></span><span style=display:flex><span>            <span style=color:#f92672>++</span>rank[vp];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> recoverDeadPods(<span style=color:#66d9ef>int</span> n, vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> connections, vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> queries) {
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> res;
</span></span><span style=display:flex><span>    DSU <span style=color:#a6e22e>uf</span>(n);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span><span style=color:#f92672>&amp;</span> conn: connections) {
</span></span><span style=display:flex><span>        uf.join(conn[<span style=color:#ae81ff>0</span>], conn[<span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    unordered_map<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, set<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> regions;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; <span style=color:#f92672>++</span>i) {
</span></span><span style=display:flex><span>        regions[uf.find(i)].insert(i);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>bool</span><span style=color:#f92672>&gt;</span> alive(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, true);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ----
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span><span style=color:#f92672>&amp;</span> q: queries) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> qid <span style=color:#f92672>=</span> q[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> podId <span style=color:#f92672>=</span> q[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> parent <span style=color:#f92672>=</span> uf.find(podId);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (qid <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>            alive[podId] <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (regions[parent].find(podId) <span style=color:#f92672>!=</span> regions[parent].end()) {
</span></span><span style=display:flex><span>                regions[parent].erase(podId);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (alive[podId]) {
</span></span><span style=display:flex><span>                res.push_back(podId);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> smallestAlive <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>regions[parent].empty()) {
</span></span><span style=display:flex><span>                    smallestAlive <span style=color:#f92672>=</span> <span style=color:#f92672>*</span>regions[parent].begin();
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                res.push_back(smallestAlive);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://manasch.github.io/placements/code/intuit/><span class=title>« Prev</span><br><span></span></a>
<a class=next href=https://manasch.github.io/placements/code/makemytrip/><span class=title>Next »</span><br><span></span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://manasch.github.io/placements>Placements</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>